from django.core.management.base import BaseCommand, CommandError
from mainapp.models import Posts
import json


class Command(BaseCommand):
    # def add_arguments(self, parser):
    #     # Positional arguments
    #     parser.add_argument('poll_ids', nargs='+', type=int)

    #     # Named (optional) arguments
    #     parser.add_argument(
    #         '--delete',
    #         action='store_true',
    #         help='Delete poll instead of closing it',
    #     )

    def handle(self, *args, **options):

        
        def jread ():
            with open('static/texts.json') as f:
                file_content = f.read()
                post_list = json.loads(file_content)

                for num, post in enumerate(post_list):
                    # print(post_list[num]['name'])               

                    post, created = Posts.objects.get_or_create(
                        name=post_list[num]['name'],
                        text=post_list[num]['text'],
                        picture=post_list[num]['picture']
                    )

                    print(created)
                # print(post_list[0]['name'])


        def jwrite():            
            t = "–£ –Ω–∞—Å –±—ã–ª–∏ –æ–≥—Ä–æ–º–Ω—ã–µ –ø–ª–∞–Ω—ã –Ω–∞ —ç—Ç–æ—Ç —Å–µ–∑–æ–Ω! \n üò£ –ù–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Å–ª—É—á–∏–ª–∞—Å—å –≤–æ–π–Ω–∞, –∏ –º–∏—Ä –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ –∏–∑–º–µ–Ω–∏–ª—Å—è, –º—ã –ø–æ–Ω—è–ª–∏, —á—Ç–æ —Å–µ–π—á–∞—Å –Ω–µ –≤—Ä–µ–º—è –¥–ª—è —Ä–∏—Å–∫–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –æ—á–µ–Ω—å —Ö–æ—Ç–∏–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—à –ø—Ä–æ–µ–∫—Ç, –Ω–∞—à–∏ –æ–±—â–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤—Å—ë —Ç–æ, —á–µ–≥–æ –º—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –∑–∞ —ç—Ç–∏ –≥–æ–¥—ã! \n –ù–æ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—Ç—Ä–∞—à–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø—Ä—è–º–æ —É –Ω–∞—Å –ø–æ–¥ –±–æ–∫–æ–º, –º—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–±—ã–≤–∞—Ç—å –æ —Å–µ–±–µ. –í —Ç–∞–∫–∏–µ –≤—Ä–µ–º–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –±–µ—Ä–µ—á—å —Å–µ–±—è, –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–ø–æ—Å–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç–º–æ—Ü–∏–∏, —á—Ç–æ–± –Ω–µ —Ç—Ä–æ–Ω—É—Ç—å—Å—è –∏ –ø–µ—Ä–µ–∂–∏—Ç—å –≤—Å—ë —ç—Ç–æ, –≤–µ–¥—å –Ω–∞–º –µ—â—ë –≤–º–µ—Å—Ç–µ —Å—Ç—Ä–æ–∏—Ç—å —Å–≤–µ—Ç–ª–æ–µ –±—É–¥—É—â–µ–µ. \n –ú—ã —Ö–æ—Ç–∏–º –Ω–∞–ø–æ–º–Ω–∏—Ç—å –≤–∞–º –æ —Ç–µ—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ —É –Ω–∞—Å –ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è —ç—Ç–∏–º –ª–µ—Ç–æ–º: \n üõ£–†–û–ê–î–¢–†–ò–ü –ø–æ –ê–ª—Ç–∞—é —Å 6 –ø–æ 13 –∏—é–ª—è (–≤–æ–∑—å–º—ë–º –µ—â—ë –¥–≤—É—Ö —á–µ–ª–æ–≤–µ–∫) \n üèï–ü–û–•–û–î –Ω–∞ –ê–ª—Ç–∞–µ –∫ –ø–æ–¥–Ω–æ–∂–∏—é –ë–µ–ª—É—Ö–∏ 18-31 –∏—é–ª—è (–≤–æ–∑—å–º—ë–º –µ—â—ë –ø–∞—Ä—É —á–µ–ª–æ–≤–µ–∫ –≤ –∫–æ–º–∞–Ω–¥—É) \n üèî–ü–û–•–û–î –Ω–∞ –ö–∞–≤–∫–∞–∑. 11-21 –∞–≤–≥—É—Å—Ç–∞ –ù–∞–≥–æ—Ä—å–µ –õ–∞–≥–æ–Ω–∞–∫–∏. –ú–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ –≥–æ—Ä—ã –∫ –º–æ—Ä—é (–µ—â—ë –º–Ω–æ–≥–æ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç –ë–æ–ª—å—à–µ –º–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç. \n –õ–µ—Ç–æ–º –º—ã –ø—Ä–æ–≤–µ–¥—ë–º –ª–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ö–æ–¥–æ–≤ –∏ –≤—ã–µ–∑–¥–æ–≤ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –¥–Ω—è, –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≤—ã –¥–∞–≤–Ω–æ —Ö–æ—Ç–µ–ª–∏ —Å—Ö–æ–¥–∏—Ç—å —Å –Ω–∞–º–∏ –≤ –≥–æ—Ä—ã, —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –Ω–∞—à–µ–π —Å–µ–º—å–∏ - —ç—Ç–æ —Ç–æ—Ç —Å–∞–º—ã–π —à–∞–Ω—Å! –ï—â—ë –Ω–µ –∑–Ω–∞–µ–º, —á—Ç–æ –±—É–¥–µ—Ç –æ—Å–µ–Ω—å—é, –ø–æ–µ–¥–µ–º –ª–∏ –º—ã –∫—É–¥–∞-—Ç–æ –∏ –ø–æ–∑–æ–≤—ë–º –ª–∏ –≤–∞—Å. \n –ó–∞–≥—Ä–∞–Ω–∏—á–Ω—ã–µ –ø–æ—Ö–æ–¥—ã –∏ –≤—ã–µ–∑–¥—ã –ø–æ–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω—ã –∏–∑-–∑–∞ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ —Å —Ä–µ–π—Å–∞–º–∏, –∫—É—Ä—Å–æ–º –≤–∞–ª—é—Ç—ã –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ–º –≥—Ä–∞–Ω–∏—Ü. \n ü§ç –ü–æ—Ö–æ–¥ —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–± –æ—Ç–≤–ª–µ—á—å—Å—è –æ—Ç –≤—Å–µ—Ö —É–≥–Ω–µ—Ç–∞—é—â–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –Ω–∞–ø–æ–ª–Ω–∏—Ç—å —Å–µ–±—è –Ω–æ–≤—ã–º–∏ —ç–º–æ—Ü–∏—è–º–∏, —Å–æ–±—Ä–∞—Ç—å –≤ –∫–æ–ø–∏–ª–∫—É —Ç—ã—Å—è—á–∏ —Å—á–∞—Å—Ç–ª–∏–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è, –∑–∞–≥–ª—è–Ω—É—Ç—å –≤–Ω—É—Ç—Ä—å —Å–µ–±—è, –Ω–∞–π—Ç–∏ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π –∏ –ø—Ä–æ–∂–∏—Ç—å –Ω–æ–≤—ã–π –æ–ø—ã—Ç, –≤—Å–ø–æ–º–Ω–∏—Ç—å, –∫–∞–∫ –º–Ω–æ–≥–æ –∫—Ä–∞—Å–∏–≤–æ–≥–æ –∏ —Ö–æ—Ä–æ—à–µ–≥–æ –µ—Å—Ç—å –≤ –Ω–∞—à–µ–º –º–∏—Ä–µ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∏ –Ω–∞ —á—Ç–æ! \n –û–±–Ω–∏–º–∞–µ–º –≤–∞—Å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –≤ —ç—Ç–∏ –Ω–µ–ª–µ–≥–∫–∏–µ –≤—Ä–µ–º–µ–Ω–∞ –∏ –∂–¥—ë–º –≤ –Ω–∞—à–∏—Ö –ø–æ—Ö–æ–¥–∞—Ö. ‚úçÔ∏è–ü–æ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º –ª—é–±—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ø–∏—à–∏—Ç–µ @mariewoohoo"
            t2 = " –£–∂–µ –Ω–∞ —ç—Ç–∏—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö! 7-8 –º–∞—è \n –°–ø–ª–∞–≤ –ø–æ –ú–æ—Å–∫–≤–µ —Ä–µ–∫–µ + —Å–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ! \n 7000 –∑–∞ –≤—Å—ë! \n –î–∞–≤–∞–π –æ—Ç–∫—Ä–æ–µ–º —Å–µ–∑–æ–Ω –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π –≤–º–µ—Å—Ç–µ? \n –ü–∏—à–∏ –∑–∞ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏ –≤ –ª–∏—á–∫—É @mariewoohoo –∏ –ø—Ä—ã–≥–∞–π –∫ –Ω–∞–º –Ω–∞ –±–æ—Ä—Ç!"

            post_list = (
                {'name': '–°–ø–ª–∞–≤ –ú–æ—Å–∫–≤–∞','text': t, 'picture': 'photo_2022-04-28_20-54-22'},
                {'name': '–ù–æ–≤–æ—Å—Ç–∏', 'text': t2, 'picture': 'photo_2022-05-12_17-59-19'}
            )

            with open('static/texts.json', 'w') as f:
                to_write = json.dumps(post_list)
                f.write(to_write)

        # jwrite()
        jread()


        
